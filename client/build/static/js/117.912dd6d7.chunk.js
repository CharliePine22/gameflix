"use strict";(self.webpackChunkgameflix=self.webpackChunkgameflix||[]).push([[117,858],{9772:function(e,r,n){n.r(r),n.d(r,{default:function(){return O}});n(7762);var t=n(4165),a=n(5861),s=n(9439),i=n(2791),c=n(1413);function l(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=["count","wrapper","className","containerClassName","containerTestId","circle","style"],u=i.createContext({});function d(e){for(var r,n,t,a=e.count,d=void 0===a?1:a,m=e.wrapper,h=e.className,g=e.containerClassName,p=e.containerTestId,_=e.circle,f=void 0!==_&&_,v=e.style,j=l(e,o),x=i.useContext(u),b=(0,c.Z)({},j),N=0,y=Object.entries(j);N<y.length;N++){var S=(0,s.Z)(y[N],2),w=S[0];"undefined"===typeof S[1]&&delete b[w]}var C=(0,c.Z)((0,c.Z)((0,c.Z)({},x),b),{},{circle:f}),k=(0,c.Z)((0,c.Z)({},v),function(e){var r=e.baseColor,n=e.highlightColor,t=e.width,a=e.height,s=e.borderRadius,i=e.circle,c=e.direction,l=e.duration,o=e.enableAnimation,u=void 0===o||o,d={};return"rtl"===c&&(d["--animation-direction"]="reverse"),"number"===typeof l&&(d["--animation-duration"]="".concat(l,"s")),u||(d["--pseudo-element-display"]="none"),"string"!==typeof t&&"number"!==typeof t||(d.width=t),"string"!==typeof a&&"number"!==typeof a||(d.height=a),"string"!==typeof s&&"number"!==typeof s||(d.borderRadius=s),i&&(d.borderRadius="50%"),"undefined"!==typeof r&&(d["--base-color"]=r),"undefined"!==typeof n&&(d["--highlight-color"]=n),d}(C)),O="react-loading-skeleton";h&&(O+=" ".concat(h));for(var P=null!==(r=C.inline)&&void 0!==r&&r,Z=[],E=Math.ceil(d),R=0;R<E;R++){var T=k;if(E>d&&R===E-1){var D=null!==(n=T.width)&&void 0!==n?n:"100%",A=d%1,I="number"===typeof D?D*A:"calc(".concat(D," * ").concat(A,")");T=(0,c.Z)((0,c.Z)({},T),{},{width:I})}var z=i.createElement("span",{className:O,style:T,key:R},"\u200c");P?Z.push(z):Z.push(i.createElement(i.Fragment,{key:R},z,i.createElement("br",null)))}return i.createElement("span",{className:g,"data-testid":p,"aria-live":"polite","aria-busy":null===(t=C.enableAnimation)||void 0===t||t},m?Z.map((function(e,r){return i.createElement(m,{key:r},e)})):Z)}var m=n(4569),h=n.n(m),g=n(184),p=function(e){var r=e.count;return"full"==e.type?(0,g.jsx)("section",{className:"skeleton_card_wrapper",children:(0,g.jsx)("ul",{className:"list",children:Array(r).fill().map((function(e,r){return(0,g.jsxs)("li",{className:"card",children:[(0,g.jsx)(d,{height:180,className:"card_banner",highlightColor:"#323232"}),(0,g.jsxs)("h4",{className:"card-title",children:[(0,g.jsx)(d,{className:"card_cover",baseCover:"rgb(35, 35, 35)",highlightColor:"#222222",circle:!1})," ","\xa0",(0,g.jsx)(d,{className:"skeleton_title",highlightColor:"#222222",baseCover:"rgb(35, 35, 35)"})]}),(0,g.jsx)("p",{children:(0,g.jsx)(d,{style:{marginLeft:"10px"},className:"card-channel",width:"60%",highlightColor:"#222222"})}),(0,g.jsx)("div",{children:(0,g.jsx)(d,{style:{marginLeft:"10px"},className:"card-metrics",width:"90%",highlightColor:"#222222"})})]},r)}))})}):(0,g.jsx)("section",{className:"skeleton_card_wrapper",children:(0,g.jsx)("ul",{className:"list_small",children:Array(r).fill().map((function(e,r){return(0,g.jsxs)("li",{className:"card_small",children:[(0,g.jsx)(d,{height:104,className:"card_banner_small",highlightColor:"#222222",enableAnimation:!1}),(0,g.jsxs)("h4",{className:"card-title_small",children:[(0,g.jsx)(d,{className:"card_cover_small",circle:!1,highlightColor:"#222222"})," ","\xa0",(0,g.jsx)(d,{className:"skeleton_title_small",highlightColor:"#222222"})]})]},r)}))})})},_=n(7689),f=n(6355),v=n(3676),j=n(1784),x=n(3224),b=n(1879),N=n(3433),y="...",S=function(e,r){var n=r-e+1;return Array.from({length:n},(function(r,n){return n+e}))},w=function(e){var r=e.onPageChange,n=e.totalCount,t=e.siblingCount,a=void 0===t?1:t,s=e.currentPage,c=e.pageSize,l=(e.className,function(e){var r=e.totalCount,n=e.pageSize,t=e.siblingCount,a=void 0===t?1:t,s=e.currentPage;return(0,i.useMemo)((function(){var e=Math.ceil(r/n);if(a+5>=e)return S(1,e);var t=Math.max(s-a,1),i=Math.min(s+a,e),c=t>2,l=i<e-2,o=1,u=e;if(!c&&l){var d=S(1,3+2*a);return[].concat((0,N.Z)(d),[y,e])}if(c&&!l){var m=S(e-(3+2*a)+1,e);return[o,y].concat((0,N.Z)(m))}if(c&&l){var h=S(t,i);return[o,y].concat((0,N.Z)(h),[y,u])}}),[r,n,a,s])}({currentPage:s,totalCount:n,siblingCount:a,pageSize:c}));if(0===s||l.length<2)return null;var o=l[l.length-1];return(0,g.jsxs)("ul",{className:"pagination-container",children:[(0,g.jsx)("li",{className:"pagination-item ".concat(1===s&&"disabled"),onClick:function(){r(s-1)},children:(0,g.jsx)("div",{className:"arrow left"})}),l.map((function(e){return e===y?(0,g.jsx)("li",{className:"pagination-item dots",children:"..."},"dots ".concat(e)):(0,g.jsx)("li",{className:"pagination-item ".concat(e===s&&"selected"),onClick:function(){return r(e)},children:e},"number ".concat(e))})),(0,g.jsx)("li",{className:"pagination-item ".concat(s==o&&"disabled"),onClick:function(){r(s+1)},children:(0,g.jsx)("div",{className:"arrow right"})})]})},C=n(6818),k=(0,i.lazy)((function(){return Promise.all([n.e(101),n.e(916),n.e(332)]).then(n.bind(n,5850))})),O=function(e){var r,n,c,l=e.closeSearchResults,o=e.currentGameOpen,u=e.openGame,m=e.closeGameWindow,N=e.updateGameStatus,y=e.setNotification,S=e.currentProfile,O=e.currentCollection,P=localStorage.getItem("twitch_auth"),Z=JSON.parse(localStorage.getItem("searches")),E=(0,_.TH)(),R=(0,i.useState)(1),T=(0,s.Z)(R,2),D=T[0],A=T[1],I=(0,i.useState)(Z),z=(0,s.Z)(I,2),G=(z[0],z[1]),M={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BASE_URL,B=(0,i.useState)(null),F=(0,s.Z)(B,2),K=F[0],L=F[1],H=(0,i.useState)(""),U=(0,s.Z)(H,2),W=U[0],J=U[1],X=(0,i.useState)(!1),V=(0,s.Z)(X,2),q=V[0],Q=V[1],Y=E.state.name,$=(0,i.useState)(Y),ee=(0,s.Z)($,2),re=ee[0],ne=ee[1],te=(0,i.useState)([]),ae=(0,s.Z)(te,2),se=ae[0],ie=ae[1],ce=(0,i.useState)(!1),le=(0,s.Z)(ce,2),oe=le[0],ue=le[1],de=(0,i.useState)(!1),me=(0,s.Z)(de,2),he=me[0],ge=me[1],pe=(0,i.useMemo)((function(){var e=13*(D-1),r=e+13;return se.slice(e,r)}),[D,se]),_e=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ge(!0),ue(!1),n=r.replace("Poke","Pok\xe9"),e.next=6,h().post("".concat(M,"/app/search_game"),{token:P,gameName:n});case 6:return a=e.sent,ie(a.data),A(1),""!==Y&&(Z?(Z.push(Y),G(Z),localStorage.setItem("searches",JSON.stringify(Z))):(localStorage.setItem("searches",JSON.stringify([Y])),G(Z))),ge(!1),ue(!0),e.abrupt("return",se);case 15:e.prev=15,e.t0=e.catch(0),ge(!1),ue(!0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(r){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){""!=Y&&(window.scrollTo(0,0),_e(Y))}),[Y]);var fe=function(e){"Enter"===e.key&&_e(re)},ve=function(e,r){e.stopPropagation(),J(r),u(r)},je=function(e){console.log(e),L(e)};return K?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(C.default,{setNotification:y,game:K,closeDetails:function(){return L(null)},twitchToken:P,updateGameStatus:N,activeProfile:S,currentCollection:O})}):he&&!oe?(0,g.jsxs)("div",{className:"search_results",children:[(0,g.jsxs)("div",{className:"search_results__nav",children:[(0,g.jsx)("span",{onClick:l,children:"X"}),(0,g.jsx)("div",{className:"search_results__nav_search",children:(0,g.jsx)("input",{placeholder:"".concat(""!==Y?Y:"Search..."),value:re,onKeyDown:fe,onChange:function(e){return ne(e.target.value)}})})]}),(0,g.jsxs)("div",{className:"search_results__container_skeleton",children:[(0,g.jsxs)("div",{className:"top_results_row_skeleton",children:[(0,g.jsx)("h2",{children:"Top Results"}),(0,g.jsx)(p,{count:3,type:"full"})]}),(0,g.jsxs)("div",{className:"remainder_results_skeleton",children:[(0,g.jsx)("h2",{children:"Results"}),(0,g.jsx)(p,{count:9})]})]})]}):(0,g.jsxs)("div",{className:"search_results",children:[(0,g.jsxs)("div",{className:"search_results__nav",children:[(0,g.jsx)("span",{onClick:l,children:"X"}),(0,g.jsxs)("div",{className:"search_results__nav_search",children:[(0,g.jsx)("input",{value:re,onChange:function(e){return ne(e.target.value)},placeholder:"Search..",onKeyDown:fe}),(0,g.jsx)(f.U41,{className:"search_results__nav_search_icon",onClick:fe})]})]}),(0,g.jsxs)("div",{className:"search_results__container",children:[o===W.id&&(0,g.jsxs)("div",{className:"search_results__game_preview",children:[(0,g.jsx)("h1",{onClick:m,children:"X"}),(0,g.jsx)(i.Suspense,{fallback:(0,g.jsx)(g.Fragment,{children:"..."}),children:(0,g.jsx)(k,{style:{top:"230px"},game:W,gameCover:"https://images.igdb.com/igdb/image/upload/t_1080p_2x/".concat(null===(r=W.cover)||void 0===r?void 0:r.image_id,".jpg"),ratingImage:function(e){if(!e||!e.age_ratings)return(0,g.jsx)("img",{className:"row__poster__esrb_img",src:b});var r=null===e||void 0===e?void 0:e.age_ratings.filter((function(e){return 1==e.category||2==e.category}));if(0==r.length||!e.age_ratings)return(0,g.jsx)("img",{className:"row__poster__esrb_img",src:b});switch(r[0].rating){case 1:case 2:case 8:case 9:return(0,g.jsx)("img",{className:"row__poster__esrb_img",src:v});case 3:case 4:case 10:return(0,g.jsx)("img",{className:"row__poster__esrb_img",src:j});case 5:case 11:return(0,g.jsx)("img",{className:"row__poster__esrb_img",src:x});default:return(0,g.jsx)("img",{className:"row__poster__esrb_img",src:b})}}(W),displayDetails:L,hideDetails:m,viewingPreview:q,openGame:function(){return Q(!0)},closeGame:function(){return Q(!1)}})})]}),0==se.length&&oe&&(0,g.jsx)("div",{className:"search_results__error",children:(0,g.jsx)("p",{children:"Sorry, no results for current game, please refine your search and try again!"})}),pe.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h2",{children:"Top Results"}),(0,g.jsx)("div",{className:"top_results_row",children:null===(n=se.slice(0,3))||void 0===n?void 0:n.map((function(e){var r,n,t,a;return(0,g.jsxs)("div",{className:"top_result_container",onClick:function(){return je(e)},children:[(0,g.jsxs)("div",{className:"top_result_upper",children:[(0,g.jsx)("div",{className:"result_publisher",onClick:function(r){return ve(r,e)},children:(0,g.jsx)("h3",{children:"3D"})}),(0,g.jsx)("img",{src:"https://images.igdb.com/igdb/image/upload/t_screenshot_big/".concat(e.artworks?null===(r=e.artworks[0])||void 0===r?void 0:r.image_id:null===(n=e.cover)||void 0===n?void 0:n.image_id,".jpg")})]}),(0,g.jsxs)("div",{className:"top_result_lower",children:[(0,g.jsx)("h3",{className:"game_name",children:e.name||(0,g.jsx)(d,{count:1})}),(0,g.jsx)("ul",{className:"game_theme_list",children:null===(t=e.themes)||void 0===t?void 0:t.map((function(e){return"Sandbox"!==e.name&&(0,g.jsx)("li",{children:e.name},e.id)}))})]}),(0,g.jsx)("div",{className:"game_cover",style:{backgroundSize:"100% 100%",backgroundImage:"url(https://images.igdb.com/igdb/image/upload/t_cover_big/".concat(null===(a=e.cover)||void 0===a?void 0:a.image_id,".jpg)"),backgroundPosition:"center"}})]},e.id)}))})]}),pe.length>3&&(0,g.jsxs)("div",{className:"remainder_results",children:[(0,g.jsx)("h2",{children:"Results"}),null===(c=pe.slice(3))||void 0===c?void 0:c.map((function(e){var r,n;return void 0!==e.cover&&(0,g.jsxs)("div",{className:"results_container",onClick:function(){return je(e)},children:[(0,g.jsx)("div",{className:"remainder_3d",onClick:function(r){return ve(r,e)},children:(0,g.jsx)("h3",{children:"3D"})}),(0,g.jsx)("div",{className:"results_container_img",style:{backgroundSize:"100% 105%",backgroundImage:"url(//images.igdb.com/igdb/image/upload/t_cover_big/".concat(e.cover.image_id,".jpg)"),backgroundPosition:"center"}}),(0,g.jsxs)("div",{className:"results_container_content",children:[(0,g.jsx)("h3",{className:"game_name_remainder",children:(n=e.name,n.length>50?n.slice(0,50)+"...":n)}),(0,g.jsx)("ul",{className:"game_theme_list_lower",children:null===(r=e.themes)||void 0===r?void 0:r.map((function(e,r){return"Sandbox"!==e.name&&r<3&&(0,g.jsx)("li",{children:e.name},e.id)}))})]})]},e.id)}))]}),(0,g.jsx)(w,{className:"pagination-bar",currentPage:D,totalCount:se.length-3,pageSize:13,onPageChange:function(e){return A(e)}})]})]})}},3676:function(e,r,n){e.exports=n.p+"static/media/ESRB_E.9cf6d7f3f8e673367d2a.png"},3224:function(e,r,n){e.exports=n.p+"static/media/ESRB_M.37c27952605b5ceea210.png"},1879:function(e,r,n){e.exports=n.p+"static/media/ESRB_RP.7e329028594a72ed21ee.png"},1784:function(e,r,n){e.exports=n.p+"static/media/ESRB_T.5f77aabf3318dacd4cfc.png"},4942:function(e,r,n){function t(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}n.d(r,{Z:function(){return t}})},1413:function(e,r,n){n.d(r,{Z:function(){return s}});var t=n(4942);function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}}}]);
//# sourceMappingURL=117.912dd6d7.chunk.js.map