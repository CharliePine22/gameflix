{"version":3,"file":"static/js/331.ea06fa81.chunk.js","mappings":"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","sources":["hooks/useContextMenu.js","components/UserGame/NoteDetails.js","components/UserGame/UserNotes.js","components/UserGame/UserGame.js","components/UserCollectionPage/UserCollection.js"],"sourcesContent":["import { useEffect, useCallback, useState } from 'react';\r\n\r\nconst useContextMenu = () => {\r\n  const [anchorPoint, setAnchorPoint] = useState({ x: 0, y: 0 });\r\n  const [showBannerMenu, setShowBannerMenu] = useState(false);\r\n  const [showTitleMenu, setShowTitleMenu] = useState(false);\r\n  const handleContextMenu = useCallback(\r\n    (event) => {\r\n      event.preventDefault();\r\n      if (\r\n        event.target.className === 'user_game_banner_img' &&\r\n        !showBannerMenu\r\n      ) {\r\n        setAnchorPoint({ x: event.offsetX, y: event.pageY });\r\n        setShowBannerMenu(true);\r\n        setShowTitleMenu(false);\r\n      }\r\n      if (event.target.className === 'title_list__item') {\r\n        setAnchorPoint({ x: event.movementX + 5, y: event.y + 20 });\r\n        setShowTitleMenu(true);\r\n        setShowBannerMenu(false);\r\n      }\r\n    },\r\n    [setAnchorPoint]\r\n  );\r\n\r\n  const handleClick = useCallback(() => {\r\n    if (showTitleMenu) setShowTitleMenu(false);\r\n    if (showBannerMenu) setShowBannerMenu(false);\r\n  }, [showTitleMenu, showBannerMenu]);\r\n\r\n  const resetContext = () => {\r\n    setShowBannerMenu(false);\r\n    setShowTitleMenu(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', handleClick);\r\n    document.addEventListener('contextmenu', handleContextMenu);\r\n    return () => {\r\n      document.removeEventListener('click', handleClick);\r\n      document.removeEventListener('contextmenu', handleContextMenu);\r\n    };\r\n  });\r\n  return { anchorPoint, showTitleMenu, showBannerMenu, resetContext };\r\n};\r\n\r\nexport default useContextMenu;\r\n","import React, { useState } from 'react';\r\nimport './UserNotes.css';\r\nimport { BsArrowLeft } from 'react-icons/bs';\r\n\r\nconst NoteDetails = ({ note, closeNote, updateNote, deleteNote }) => {\r\n  const [noteValue, setNoteValue] = useState(note.note);\r\n\r\n  return (\r\n    <div className='note_details__container'>\r\n      <span className='note_details__date'>{note.date}</span>\r\n      <BsArrowLeft className='note_details__back_icon' onClick={closeNote} />\r\n      <div className='note_details__details'>\r\n        <h4 className='note_details_note'>Note Details</h4>\r\n        <textarea\r\n          value={noteValue}\r\n          onChange={(e) => setNoteValue(e.target.value)}\r\n          className='note_details__editor'\r\n        />\r\n      </div>\r\n      <div className='note_details__actions'>\r\n        <button onClick={() => updateNote(note, noteValue)}>Save Note</button>\r\n        <button onClick={() => deleteNote(note.note)}>Delete Note</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteDetails;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport './UserNotes.css';\r\nimport { AiOutlinePlus } from 'react-icons/ai';\r\nimport { MdEditNote } from 'react-icons/md';\r\nimport { FaAngleDown } from 'react-icons/fa';\r\nimport NoteDetails from './NoteDetails';\r\n\r\n// Get current date and format it\r\nconst today = new Date();\r\nconst yyyy = today.getFullYear();\r\nlet mm = today.getMonth() + 1; // Months start at 0!\r\nlet dd = today.getDate();\r\nif (dd < 10) dd = '0' + dd;\r\nif (mm < 10) mm = '0' + mm;\r\nconst formattedToday = mm + '/' + dd + '/' + yyyy;\r\n\r\nconst UserGameNotes = ({\r\n  windowViewHandler,\r\n  viewStatus,\r\n  gameNotes,\r\n  updateNotes,\r\n}) => {\r\n  // Tab Hooks\r\n  const [currentTab, setCurrentTab] = useState('');\r\n  const [editingTab, setEditingTab] = useState(false);\r\n  const [tabValue, setTabValue] = useState('');\r\n  const [addingTab, setAddingTab] = useState(false);\r\n  const [addingNote, setAddingNote] = useState(false);\r\n  // Note Hooks\r\n  const [noteValue, setNoteValue] = useState('');\r\n  const [currentNote, setCurrentNote] = useState(null);\r\n  let noteTab = gameNotes?.tabs?.filter(\r\n    (item) => item.tabName == currentTab\r\n  )[0];\r\n  const notesRef = useRef(null);\r\n  const tabRef = useRef(null);\r\n  const tabEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!gameNotes) return;\r\n    setCurrentTab(gameNotes?.tabs[0]?.tabName);\r\n  }, [gameNotes]);\r\n\r\n  useEffect(() => {\r\n    if (currentNote !== null) return;\r\n    tabRef.current.focus();\r\n    setEditingTab(false);\r\n    setNoteValue('');\r\n    setTabValue('');\r\n  }, [tabRef, noteTab]);\r\n\r\n  useEffect(() => {\r\n    if (!addingNote) return;\r\n    notesRef.current.scrollIntoView({ behavior: 'smooth' });\r\n    setAddingNote(false);\r\n    return () => clearTimeout(timer);\r\n  }, [addingNote]);\r\n\r\n  const editTabHandler = () => {\r\n    if (!editingTab) {\r\n      setEditingTab(true);\r\n    } else {\r\n      if (tabRef.current.innerText == '' || tabRef.current.innerText == '/n') {\r\n        console.log('EMPTY');\r\n        noteTab.tabName = 'Notes';\r\n        return;\r\n      } else {\r\n        noteTab.tabName = tabRef.current.innerText;\r\n      }\r\n      updateNotes();\r\n      setCurrentTab(tabRef.current.innerText);\r\n      setEditingTab(false);\r\n    }\r\n  };\r\n\r\n  let timer;\r\n  const addTabHandler = (e) => {\r\n    e.stopPropagation();\r\n    setAddingTab(true);\r\n    timer = setTimeout(\r\n      () => tabEndRef.current.scrollIntoView({ behavior: 'smooth' }),\r\n      150\r\n    );\r\n  };\r\n\r\n  const formSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (noteValue == '') return;\r\n    setAddingNote(true);\r\n    noteTab.notes.push({\r\n      id: noteTab.notes.length + 1,\r\n      note: noteValue,\r\n      date: formattedToday,\r\n    });\r\n    updateNotes();\r\n    setNoteValue('');\r\n  };\r\n\r\n  const tabFormSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (tabValue == '') return;\r\n    gameNotes.tabs.push({\r\n      tabName: tabValue,\r\n      notes: [],\r\n    });\r\n    setCurrentTab(tabValue);\r\n    updateNotes();\r\n    setTabValue('');\r\n    setAddingTab(false);\r\n  };\r\n\r\n  const viewNoteHandler = (note) => {\r\n    setCurrentNote(note);\r\n    setAddingTab(false);\r\n    setEditingTab(false);\r\n  };\r\n\r\n  const saveNoteHandler = (oldNote, newNote) => {\r\n    oldNote.note = newNote;\r\n    oldNote.date = formattedToday;\r\n    updateNotes();\r\n\r\n    setCurrentNote(null);\r\n  };\r\n\r\n  const deleteNoteHandler = (note) => {\r\n    const updatedList = noteTab.notes.filter((item) => item.note !== note);\r\n    noteTab.notes = updatedList;\r\n    updateNotes();\r\n\r\n    setCurrentNote(null);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`user_notes__wrapper ${\r\n        !viewStatus.notes && 'minimized_notes'\r\n      }`}\r\n    >\r\n      <FaAngleDown\r\n        style={{\r\n          transform: !viewStatus.notes ? 'rotate(0)' : 'rotate(180deg)',\r\n          display: currentNote && 'none',\r\n        }}\r\n        className='user_game__minimize_icon'\r\n        onClick={() => windowViewHandler('notes')}\r\n      />\r\n      {currentNote ? (\r\n        <NoteDetails\r\n          note={currentNote}\r\n          closeNote={() => setCurrentNote(null)}\r\n          updateNote={saveNoteHandler}\r\n          deleteNote={deleteNoteHandler}\r\n        />\r\n      ) : (\r\n        <>\r\n          <>\r\n            <h4\r\n              contentEditable={editingTab}\r\n              suppressContentEditableWarning={true}\r\n              onBlur={editTabHandler}\r\n              // onKeyPress={(e) => {\r\n              //   e.preventDefault();\r\n              //   console.log(e.currentTarget);\r\n              //   if (e.key === 'Enter') editTabHandler();\r\n              // }}\r\n              onKeyDown={(e) => {\r\n                e.preventDefault();\r\n                // setTabValue(e.currentTarget.innerText);\r\n                console.log(e.currentTarget.innerText);\r\n                if (e.key === 'Enter') editTabHandler();\r\n              }}\r\n            >\r\n              <p\r\n                ref={tabRef}\r\n                style={{\r\n                  borderBottom: editingTab\r\n                    ? '2px solid #9147ff'\r\n                    : '2px solid transparent',\r\n                  userSelect: editingTab ? 'auto' : 'none',\r\n                  padding: '14px 6px 0',\r\n                  transition: 'all 200ms',\r\n                  lineHeight: '28px',\r\n                }}\r\n              >\r\n                {currentTab}\r\n              </p>{' '}\r\n              <MdEditNote\r\n                className='edit_tab_icon'\r\n                onClick={() => setEditingTab(!editingTab)}\r\n              />{' '}\r\n            </h4>\r\n            <div className='user_notes__header'>\r\n              <ul className='user_notes__tabs'>\r\n                {gameNotes?.tabs.map((item) => (\r\n                  <li\r\n                    key={item.tabName}\r\n                    className='user_notes__tab'\r\n                    onClick={() => setCurrentTab(item.tabName)}\r\n                    style={{\r\n                      borderBottom:\r\n                        currentTab == item.tabName && '1px solid transparent',\r\n                    }}\r\n                  >\r\n                    {item.tabName}\r\n                  </li>\r\n                ))}\r\n                <li\r\n                  className={`user_notes__tab ${\r\n                    addingTab ? 'add_tab' : 'new_tab'\r\n                  }`}\r\n                  // onClick={() => !addingTab && setAddingTab(true)}\r\n                  onClick={addTabHandler}\r\n                >\r\n                  {!addingTab ? (\r\n                    <AiOutlinePlus />\r\n                  ) : (\r\n                    <div className='new_tab__container'>\r\n                      <form onSubmit={tabFormSubmitHandler}>\r\n                        <input\r\n                          value={tabValue}\r\n                          onChange={(e) => setTabValue(e.target.value)}\r\n                        />\r\n                      </form>\r\n                      <p\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setAddingTab(false);\r\n                        }}\r\n                      >\r\n                        X\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </li>\r\n                <div ref={tabEndRef} />\r\n              </ul>\r\n            </div>\r\n          </>\r\n          <div className='user_notes__notes_wrapper'>\r\n            <ul className='user_notes__notes'>\r\n              {gameNotes?.tabs?.filter((item) => item.tabName == currentTab)[0]\r\n                ?.notes?.length > 0 ? (\r\n                gameNotes?.tabs\r\n                  ?.filter((item) => item.tabName == currentTab)[0]\r\n                  ?.notes.map((note) => (\r\n                    <li\r\n                      key={note.note}\r\n                      className='user_note'\r\n                      onClick={() => viewNoteHandler(note)}\r\n                    >\r\n                      {note.note}\r\n                    </li>\r\n                  ))\r\n              ) : (\r\n                <p className='no_notes_msg'>No Notes</p>\r\n              )}\r\n              <div\r\n                ref={notesRef}\r\n                style={{ width: '10px', marginLeft: '5px' }}\r\n              />\r\n            </ul>\r\n          </div>\r\n          <div\r\n            className='user_notes__form_container'\r\n            style={{ display: `${!viewStatus.notes ? 'none' : 'block'}` }}\r\n          >\r\n            <form className='user_notes__form' onSubmit={formSubmitHandler}>\r\n              <input\r\n                value={noteValue}\r\n                onChange={(e) => setNoteValue(e.target.value)}\r\n                className='user_notes__input'\r\n                placeholder='I think Clark Kent is Batman'\r\n              />\r\n            </form>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserGameNotes;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './UserGame.css';\r\nimport axios from 'axios';\r\nimport { FiClock } from 'react-icons/fi';\r\nimport { FaMedal, FaMusic, FaAngleDown } from 'react-icons/fa';\r\nimport useContextMenu from '../../hooks/useContextMenu';\r\nimport UserGameNotes from './UserNotes';\r\nimport SpotifyPlayback from '../SpotifyPlayback/SpotifyPlayback';\r\n\r\nconst today = new Date();\r\nconst yyyy = today.getFullYear();\r\nlet mm = today.getMonth() + 1; // Months start at 0!\r\nlet dd = today.getDate();\r\nif (dd < 10) dd = '0' + dd;\r\nif (mm < 10) mm = '0' + mm;\r\nconst formattedToday = mm + '/' + dd + '/' + yyyy;\r\n\r\nconst UserGame = ({\r\n  game,\r\n  activeProfile,\r\n  closeStats,\r\n  setCurrentGame,\r\n  updateCollection,\r\n  userNotes,\r\n  spotifyToken,\r\n  currentTrack,\r\n  playAudio,\r\n  pausePlayback,\r\n  beginPlayback,\r\n}) => {\r\n  // RATING, PLAYTIME, ACHIEVEMENTS, SPOTIFY, NOTES, STATUS(COMPLETED, BACKLOG, ETC.), PLATFORMS OWNED\r\n  const { anchorPoint, showBannerMenu, resetContext } = useContextMenu();\r\n  // Achievement States\r\n  const [viewStatus, setViewStatus] = useState({\r\n    achievements: true,\r\n    notes: true,\r\n    trophies: true,\r\n  });\r\n  const [achievements, setAchievements] = useState(game.achievements);\r\n  const [trophies, setTrophies] = useState(game.trophies);\r\n  const [achievementFilter, setAchievementFilter] = useState('unlocked');\r\n  const [trophyFilter, setTrophyFilter] = useState('unlocked');\r\n  const [currentGameNotes, setCurrentGameNotes] = useState(null);\r\n  // Playtime States\r\n  const [playtime, setPlaytime] = useState(Math.floor(game.playtime / 60));\r\n  const [changingPlaytime, setChangingPlaytime] = useState(false);\r\n  // Rating States\r\n  const [rating, setRating] = useState(game.user_rating);\r\n  const [changingRating, setChangingRating] = useState(false);\r\n  const [changingBanner, setChangingBanner] = useState(false);\r\n  const [bannerLink, setBannerLink] = useState('');\r\n  // BACKLOG, CURRENTLY PLAYING, COMPLETED, STARTED, ABAND ONED, 100%, NOT OWNED\r\n  const [backlogStatus, setBacklogStatus] = useState(game.status);\r\n  const [changingBacklog, setChangingBacklog] = useState(false);\r\n  // Hooks and Storage Variables\r\n  const baseURL = process.env.REACT_APP_BASE_URL;\r\n  const steamID = localStorage.getItem('steamID');\r\n  const userEmail = localStorage.getItem('user');\r\n  const trophyPercentage = Math.floor(\r\n    (trophies?.filter((game) => game.earned == true).length /\r\n      trophies?.length) *\r\n      100\r\n  );\r\n\r\n  const achievementPercentage = Math.floor(\r\n    (achievements?.filter(\r\n      (game) => game.achieved == true || game.earned == true\r\n    ).length /\r\n      achievements?.length) *\r\n      100\r\n  );\r\n\r\n  const updateProfileNotes = async () => {\r\n    const currentGame = userNotes.notes_collection.filter(\r\n      (g) => g.id == game.id\r\n    )[0];\r\n\r\n    if (!currentGame) return;\r\n\r\n    const request = await axios.put(`${baseURL}/notes/update_notes`, {\r\n      profile: activeProfile,\r\n      gameId: currentGame.id,\r\n      notes: currentGame,\r\n      email: userEmail,\r\n    });\r\n\r\n    setCurrentGameNotes(\r\n      userNotes.notes_collection.filter((g) => g.id == game.id)[0]\r\n    );\r\n\r\n    return request;\r\n  };\r\n\r\n  const createNewGameNote = () => {\r\n    // If user has no notes for any other games, create an empty array\r\n    if (userNotes.notes_collection.length == 0) {\r\n      userNotes.notes_collection = [\r\n        {\r\n          id: game.id,\r\n          name: game.name,\r\n          tabs: [\r\n            {\r\n              tabName: 'Notes',\r\n              notes: [\r\n                {\r\n                  id: 0,\r\n                  note: `These are your notes for ${game.name}! Click me to edit this or start your own tab by clicking the +`,\r\n                  date: formattedToday,\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ];\r\n\r\n      setCurrentGameNotes({\r\n        id: game.id,\r\n        name: game.name,\r\n        tabs: [\r\n          {\r\n            tabName: 'Notes',\r\n            notes: [\r\n              {\r\n                id: 0,\r\n                note: `These are your notes for ${game.name}! Click me to edit this or start your own tab by clicking the +`,\r\n                date: formattedToday,\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    // If user has notes for others game, simply update the array\r\n    else {\r\n      userNotes.notes_collection.push({\r\n        id: game.id,\r\n        name: game.name,\r\n        tabs: [\r\n          {\r\n            tabName: 'Notes',\r\n            notes: [\r\n              {\r\n                id: 0,\r\n                note: `These are your notes for ${game.name}! Click me to edit this or start your own tab by clicking the +`,\r\n                date: formattedToday,\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      });\r\n      setCurrentGameNotes({\r\n        id: game.id,\r\n        name: game.name,\r\n        tabs: [\r\n          {\r\n            tabName: 'Notes',\r\n            notes: [\r\n              {\r\n                id: 0,\r\n                note: `These are your notes for ${game.name}! Click me to edit this or start your own tab by clicking the +`,\r\n                date: formattedToday,\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      });\r\n    }\r\n\r\n    updateProfileNotes();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !userNotes.notes_collection ||\r\n      userNotes.notes_collection.filter((g) => g.id == game.id).length == 0\r\n    )\r\n      createNewGameNote();\r\n    else {\r\n      setCurrentGameNotes(\r\n        userNotes.notes_collection.filter((g) => g.id == game.id)[0]\r\n      );\r\n    }\r\n  }, [game, userNotes]);\r\n\r\n  useEffect(() => {\r\n    const handleEsc = (event) => {\r\n      if (event.keyCode === 27) {\r\n        setChangingRating(false);\r\n        setChangingBacklog(false);\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleEsc);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEsc);\r\n    };\r\n  }, []);\r\n\r\n  // Runs everytime game changes\r\n  useEffect(() => {\r\n    setChangingPlaytime(false);\r\n    setChangingRating(false);\r\n    setChangingBacklog(false);\r\n    setBacklogStatus(game.status || 'BACKLOG');\r\n    setPlaytime(Math.floor(game.playtime / 60));\r\n    setRating(game.user_rating);\r\n    setAchievements(game.achievements);\r\n    setTrophies(game.trophies);\r\n    if (!steamID) {\r\n      console.log('No steam id');\r\n      return;\r\n    }\r\n\r\n    // Compare both achievement lists to get Icons\r\n    const getAchievementData = (arr1, arr2) => {\r\n      let dataList = [];\r\n      arr2.map(function (x) {\r\n        var result = arr1.filter((a1) => a1.name == x.displayName);\r\n        if (result.length > 0) {\r\n          x.achieved = result[0].achieved;\r\n        }\r\n        dataList.push(x);\r\n      });\r\n\r\n      // Sort Alphabetically\r\n      dataList.sort(function (a, b) {\r\n        var textA = a.displayName.toUpperCase();\r\n        var textB = b.displayName.toUpperCase();\r\n        return textA < textB ? -1 : textA > textB ? 1 : 0;\r\n      });\r\n\r\n      dataList.sort(function (a, b) {\r\n        return a.achieved < b.achieved ? 1 : a.achieved > b.achieved ? -1 : 0;\r\n      });\r\n      return dataList;\r\n    };\r\n\r\n    // Sort by unlocked Achievements\r\n    const fetchAppData = async () => {\r\n      const steamGameStats = await axios.get(\r\n        `${baseURL}/steam/get_game_stats`,\r\n        {\r\n          params: {\r\n            gameId: game.id,\r\n          },\r\n        }\r\n      );\r\n      if (Object.keys(steamGameStats.data).length == 0) {\r\n        setAchievements(null);\r\n        return;\r\n      }\r\n      try {\r\n        if (!game.achievements) {\r\n          const request = await axios.get(\r\n            `${baseURL}/steam/get_steam_achievements`,\r\n            {\r\n              params: {\r\n                gameId: game.id,\r\n                steamId: steamID,\r\n              },\r\n            }\r\n          );\r\n\r\n          const userAchievementData = getAchievementData(\r\n            request.data.achievements,\r\n            steamGameStats.data.availableGameStats.achievements\r\n          );\r\n\r\n          const addAchievements = await axios.put(\r\n            `${baseURL}/app/update_game_achievements`,\r\n            {\r\n              email: userEmail,\r\n              currentProfile: activeProfile.name,\r\n              achievements: userAchievementData,\r\n              gameId: game.id,\r\n            }\r\n          );\r\n\r\n          setCurrentGame(request.data.response.game);\r\n          updateCollection(request.data.response.profile.collection);\r\n          setAchievements(addAchievements.data.response.game.achievements);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n        return error;\r\n      }\r\n    };\r\n    fetchAppData();\r\n  }, [game]);\r\n\r\n  const getAchievementCount = (list) => {\r\n    if (!list) return 'N/A';\r\n    const numberAchieved = list.filter(\r\n      (game) => game.achieved == true || game.earned == true\r\n    ).length;\r\n    return numberAchieved + '/' + list.length;\r\n  };\r\n\r\n  const getSpotifyAlbum = async () => {\r\n    if (!spotifyToken) return null;\r\n    else {\r\n      try {\r\n        const request = await axios.get(`${baseURL}/app/spotify_album`, {\r\n          params: {\r\n            game: game.name,\r\n            token: spotifyToken,\r\n            baseURL,\r\n          },\r\n        });\r\n        if (request.data.status !== 'OK') {\r\n          console.log(request.data);\r\n        } else {\r\n          return request.data.tracks;\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n\r\n        return error;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Convert steam minutes to numbers\r\n  function padTo2Digits(num) {\r\n    return num.toString().padStart(2, '0');\r\n  }\r\n\r\n  function toHoursAndMinutes(totalMinutes) {\r\n    if (totalMinutes <= 0 && game.type == 'steam') return 'Not Started';\r\n    else if (totalMinutes <= 0 && game.type !== 'steam') return 0 + ' hours';\r\n    else {\r\n      const minutes = totalMinutes % 60;\r\n      const hours = Math.floor(totalMinutes / 60);\r\n      if (minutes == 0) return hours + ' hours';\r\n      return `${hours}.${padTo2Digits(minutes)} hours`;\r\n    }\r\n  }\r\n\r\n  const updateRatingHandler = async () => {\r\n    try {\r\n      const request = await axios.put(`${baseURL}/app/update_game_rating`, {\r\n        email: userEmail,\r\n        currentProfile: activeProfile.name,\r\n        rating: rating,\r\n        gameId: game.id,\r\n      });\r\n      localStorage.setItem('profile', request.data.response.profile.name);\r\n      setCurrentGame(request.data.response.game);\r\n      updateCollection(request.data.response.profile.collection);\r\n      setChangingRating(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const updatePlaytime = async () => {\r\n    if (game.playtime == playtime) {\r\n      return;\r\n    } else {\r\n      try {\r\n        const request = await axios.put(`${baseURL}/app/update_game_playtime`, {\r\n          email: userEmail,\r\n          currentProfile: activeProfile.name,\r\n          playtime: playtime * 60,\r\n          gameId: game.id,\r\n        });\r\n\r\n        localStorage.setItem('profile', request.data.response.profile.name);\r\n        setCurrentGame(request.data.response.game);\r\n        updateCollection(request.data.response.profile.collection);\r\n        setChangingPlaytime(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateBacklog = async (status) => {\r\n    try {\r\n      const request = await axios.put(`${baseURL}/app/update_game_backlog`, {\r\n        email: userEmail,\r\n        currentProfile: activeProfile.name,\r\n        status: status,\r\n        gameId: game.id,\r\n      });\r\n\r\n      localStorage.setItem('profile', request.data.response.profile.name);\r\n\r\n      setCurrentGame(request.data.response.game);\r\n      updateCollection(request.data.response.profile.collection);\r\n      setChangingBacklog(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error;\r\n    }\r\n  };\r\n\r\n  const updateBacklogHandler = (status) => {\r\n    updateBacklog(status);\r\n    setChangingBacklog(false);\r\n  };\r\n\r\n  // Minimzie or Maximize Height of Game Component\r\n  const windowViewHandler = (data) => {\r\n    setViewStatus({ ...viewStatus, [data]: !viewStatus[data] });\r\n  };\r\n\r\n  // Determine if user is updating or canceling playtime change\r\n  const determinePlaytimeAction = (e) => {\r\n    if (e.key === 'Enter') {\r\n      updatePlaytime();\r\n    }\r\n    if (e.key === 'Escape') {\r\n      setChangingPlaytime(false);\r\n      setPlaytime(Math.floor(game.playtime / 60));\r\n    }\r\n  };\r\n\r\n  // Determine if user is updating or canceling playtime change\r\n  const determineRatingAction = (e) => {\r\n    if (e.key === 'Enter') {\r\n      updateRatingHandler();\r\n    }\r\n    if (e.key === 'Escape') {\r\n      setChangingRating(false);\r\n      setRating(game.user_rating);\r\n    }\r\n  };\r\n\r\n  const changeBannerHandler = (e) => {\r\n    e.preventDefault();\r\n    setChangingBanner(true);\r\n    resetContext();\r\n  };\r\n\r\n  const updateBanner = async () => {\r\n    if (bannerLink.trim() == '') return;\r\n    try {\r\n      const request = await axios.put(`${baseURL}/app/update_game_banner`, {\r\n        email: userEmail,\r\n        currentProfile: activeProfile.name,\r\n        url: bannerLink,\r\n        gameId: game.id,\r\n      });\r\n      localStorage.setItem('profile', request.data.response.profile.name);\r\n      setCurrentGame(request.data.response.game);\r\n      updateCollection(request.data.response.profile.collection);\r\n      setChangingBanner(false);\r\n      setBannerLink('');\r\n      return request.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='user_game__wrapper'>\r\n      {changingBanner && (\r\n        <div className='user_game__modal'>\r\n          <div className='modal_content'>\r\n            <h2\r\n              style={{\r\n                maxWidth: '75%',\r\n                textAlign: 'center',\r\n                marginBottom: '25px',\r\n              }}\r\n            >\r\n              Please enter the link to any image or gif below.\r\n            </h2>\r\n\r\n            <div className='modal_form' style={{ width: '100%' }}>\r\n              <input\r\n                style={{ width: '80%' }}\r\n                value={bannerLink}\r\n                onChange={(e) => setBannerLink(e.target.value)}\r\n              />\r\n              <button onClick={updateBanner}>Submit</button>\r\n              <button onClick={() => setChangingBanner(false)}>Back</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className='user_game__banner'>\r\n        {showBannerMenu && (\r\n          <ul\r\n            className='user_game__banner_context'\r\n            style={{ top: anchorPoint.y + 5, left: anchorPoint.x }}\r\n          >\r\n            <li className='banner_context__item' onClick={changeBannerHandler}>\r\n              Set Custom Banner\r\n            </li>\r\n            <li className='banner_context__item'>Set Custom Logo</li>\r\n            <li className='banner_context__item'>Set Default Image</li>\r\n          </ul>\r\n        )}\r\n\r\n        <div className='user_game__exit' onClick={closeStats}>\r\n          X\r\n        </div>\r\n        <img\r\n          className='user_game_banner_img'\r\n          src={\r\n            game.banner_image ||\r\n            game.cover_image.replace('cover_big_2x', '1080p_2x')\r\n          }\r\n        />\r\n        <div className='user_game__current_stats'>\r\n          {/* PLAYTIME */}\r\n          <div className='playtime_container'>\r\n            <FiClock className='playtime_clock_icon' />\r\n            <div className='stats_item'>\r\n              <h3 style={{ color: changingPlaytime && '#9147ff' }}>\r\n                PLAY TIME\r\n              </h3>\r\n              <span\r\n                style={{ display: changingPlaytime && 'none' }}\r\n                className='previous_playtime'\r\n                onClick={() => setChangingPlaytime(true)}\r\n              >\r\n                {toHoursAndMinutes(game.playtime)}\r\n              </span>\r\n              <input\r\n                type='number'\r\n                value={playtime}\r\n                min='0'\r\n                onKeyDown={determinePlaytimeAction}\r\n                onChange={(e) => setPlaytime(e.target.value)}\r\n                className={`playtime_input ${\r\n                  changingPlaytime && 'playtime_focused'\r\n                }`}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* RATING */}\r\n          <div className='rating_container'>\r\n            <div className='stats_item'>\r\n              <h3>RATING</h3>\r\n              <span\r\n                onClick={() => setChangingRating(true)}\r\n                className='previous_rating'\r\n                style={{ display: changingRating && 'none' }}\r\n              >\r\n                {game.user_rating || 0}%\r\n              </span>\r\n\r\n              <input\r\n                className='rating_input'\r\n                type='number'\r\n                min='0'\r\n                max='100'\r\n                value={rating || 0}\r\n                onKeyDown={determineRatingAction}\r\n                onChange={(e) => setRating(e.target.value)}\r\n                style={{\r\n                  width: !changingRating && '0px',\r\n                  display: !changingRating && 'none',\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* BACKLOG STATUS */}\r\n          <div className='achievement_count_container'>\r\n            <div className='stats_item'>\r\n              <h3>STATUS</h3>\r\n              <button\r\n                onClick={() => setChangingBacklog(!changingBacklog)}\r\n                style={{\r\n                  backgroundColor:\r\n                    backlogStatus == 'BACKLOG'\r\n                      ? 'dodgerblue'\r\n                      : backlogStatus == 'STARTED'\r\n                      ? 'aqua'\r\n                      : backlogStatus == 'FINISHED'\r\n                      ? 'green'\r\n                      : backlogStatus == 'PLAYING'\r\n                      ? 'pink'\r\n                      : backlogStatus == '100%'\r\n                      ? 'gold'\r\n                      : backlogStatus == 'ABANDONDED'\r\n                      ? 'red'\r\n                      : 'grey',\r\n                }}\r\n                className='status_btn'\r\n              >\r\n                {backlogStatus}\r\n              </button>\r\n            </div>\r\n            {changingBacklog && (\r\n              <div className='backlog_items'>\r\n                <ul className='backlog_items_list'>\r\n                  <li\r\n                    style={{\r\n                      backgroundColor: 'BACKLOG' == game.status && '#9147ff',\r\n                      color: 'BACKLOG' == game.status && 'white',\r\n                    }}\r\n                    className='backlog_items_item'\r\n                    onClick={() => {\r\n                      updateBacklogHandler('BACKLOG');\r\n                    }}\r\n                  >\r\n                    Backlog\r\n                  </li>\r\n                  <li\r\n                    style={{\r\n                      backgroundColor: 'STARTED' == game.status && '#9147ff',\r\n                      color: 'STARTED' == game.status && 'white',\r\n                    }}\r\n                    className='backlog_items_item'\r\n                    onClick={() => {\r\n                      updateBacklogHandler('STARTED');\r\n                    }}\r\n                  >\r\n                    Started\r\n                  </li>\r\n                  <li\r\n                    style={{\r\n                      backgroundColor: 'PLAYING' == game.status && '#9147ff',\r\n                      color: 'PLAYING' == game.status && 'white',\r\n                    }}\r\n                    className='backlog_items_item'\r\n                    onClick={() => {\r\n                      updateBacklogHandler('PLAYING');\r\n                    }}\r\n                  >\r\n                    Currently Playing\r\n                  </li>\r\n                  <li\r\n                    style={{\r\n                      backgroundColor: 'FINISHED' == game.status && '#9147ff',\r\n                      color: 'FINISHED' == game.status && 'white',\r\n                    }}\r\n                    className='backlog_items_item'\r\n                    onClick={() => {\r\n                      updateBacklogHandler('FINISHED');\r\n                    }}\r\n                  >\r\n                    Finished\r\n                  </li>\r\n                  <li\r\n                    style={{\r\n                      backgroundColor: '100%' == game.status && '#9147ff',\r\n                      color: '100%' == game.status && 'white',\r\n                    }}\r\n                    className='backlog_items_item'\r\n                    onClick={() => {\r\n                      updateBacklogHandler('100%');\r\n                    }}\r\n                  >\r\n                    100% Completed\r\n                  </li>\r\n                  <li\r\n                    style={{\r\n                      backgroundColor: 'ABANDONDED' == game.status && '#9147ff',\r\n                      color: 'ABANDONDED' == game.status && 'white',\r\n                    }}\r\n                    className='backlog_items_item'\r\n                    onClick={() => {\r\n                      updateBacklogHandler('ABANDONDED');\r\n                    }}\r\n                  >\r\n                    Abandonded\r\n                  </li>\r\n                  <li\r\n                    style={{\r\n                      backgroundColor: 'NOT OWNED' == game.status && '#9147ff',\r\n                      color: 'NOT OWNED' == game.status && 'white',\r\n                    }}\r\n                    className='backlog_items_item'\r\n                    onClick={() => {\r\n                      updateBacklogHandler('NOT OWNED');\r\n                    }}\r\n                  >\r\n                    Not Owned\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* SPOTIFY MUSIC */}\r\n          <div className='music_icon_container'>\r\n            <div className='stats_item' style={{ alignItems: 'center' }}>\r\n              <h3>MUSIC</h3>\r\n              <FaMusic\r\n                className='music_icon'\r\n                onClick={getSpotifyAlbum}\r\n                style={{ color: spotifyToken && '#1DB954' }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* GAME NEWS AND DATA */}\r\n      <div\r\n        className='user_game__data_wrapper'\r\n        style={{ paddingBottom: spotifyToken && '36px' }}\r\n      >\r\n        <div className='user_game__data'>\r\n          {/* OWNED PLATFORMS */}\r\n          {/* <div className='user_game__platforms'>\r\n            <h4>Platforms Owned</h4>\r\n            <ul>{game.origin == 'steam' && <li>Steam</li>}</ul>\r\n          </div> */}\r\n\r\n          {/* ACHIEVEMENT LIST */}\r\n          {achievements && (\r\n            <div\r\n              className={`user_game__achievements_wrapper ${\r\n                !viewStatus.achievements && 'minimized'\r\n              }`}\r\n            >\r\n              <div className='user_game__achievements'>\r\n                <div className='user_game__achievements_banner'>\r\n                  <FaAngleDown\r\n                    style={{\r\n                      transform: !viewStatus.achievements\r\n                        ? 'rotate(0)'\r\n                        : 'rotate(180deg)',\r\n                    }}\r\n                    className='user_game__minimize_icon'\r\n                    onClick={() => windowViewHandler('achievements')}\r\n                  />\r\n                  {achievementPercentage === 100 && (\r\n                    <FaMedal className='user_game__completion_medal' />\r\n                  )}\r\n                  <h4>\r\n                    <p>Achievements</p>\r\n                  </h4>\r\n                  <p>\r\n                    You've unlocked {getAchievementCount(achievements)} (\r\n                    {achievementPercentage}\r\n                    %)\r\n                  </p>\r\n                  <div className='user_game__achievements_progress_bar_container'>\r\n                    <div\r\n                      className='user_game__achievements_progress_bar'\r\n                      style={{\r\n                        width: `${achievementPercentage}%`,\r\n                        background: activeProfile.color,\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div className='user_game__achievements_actions'>\r\n                    <button\r\n                      className={achievementFilter == 'unlocked' && 'active'}\r\n                      onClick={() => setAchievementFilter('unlocked')}\r\n                    >\r\n                      Unlocked\r\n                    </button>\r\n                    <button\r\n                      className={`${achievementFilter == 'locked' && 'active'}`}\r\n                      onClick={() => setAchievementFilter('locked')}\r\n                    >\r\n                      In Progress\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <ul className='user_game__achievements_list'>\r\n                  {achievements\r\n                    .filter((achievement) =>\r\n                      achievementFilter == 'unlocked'\r\n                        ? achievement.achieved\r\n                        : !achievement.achieved\r\n                    )\r\n                    .sort((a, b) =>\r\n                      a.displayName > b.displayName\r\n                        ? 1\r\n                        : b.displayName > a.displayName\r\n                        ? -1\r\n                        : 0\r\n                    )\r\n                    .map((item) => (\r\n                      <li className='achievement_item'>\r\n                        <div\r\n                          className='achievement_item_icon'\r\n                          style={{ border: `1px solid ${activeProfile.color}` }}\r\n                        >\r\n                          <img\r\n                            className='achievement_item_icon__img'\r\n                            src={item.achieved ? item.icon : item.icongray}\r\n                          />\r\n                        </div>\r\n                        <div className='achievement_item_headers'>\r\n                          <h4>{item.displayName}</h4>\r\n                          {item.description && <p>{item.description}</p>}\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {/* PLAYSTATION TROPHIES */}\r\n          {trophies && (\r\n            <div\r\n              className={`user_game__achievements_wrapper ${\r\n                !viewStatus.trophies && 'minimized'\r\n              }`}\r\n            >\r\n              <div\r\n                className={`user_game__achievements ${\r\n                  trophyPercentage == 100 && 'completed'\r\n                }`}\r\n              >\r\n                <div className='user_game__achievements_banner'>\r\n                  <FaAngleDown\r\n                    style={{\r\n                      transform: !viewStatus.trophies\r\n                        ? 'rotate(0)'\r\n                        : 'rotate(180deg)',\r\n                    }}\r\n                    className='user_game__minimize_icon'\r\n                    onClick={() => windowViewHandler('trophies')}\r\n                  />\r\n                  {trophyPercentage === 100 && (\r\n                    <FaMedal className='user_game__completion_medal' />\r\n                  )}\r\n                  <h4>\r\n                    <p>Trophies</p>\r\n                  </h4>\r\n                  <p>\r\n                    You've unlocked {getAchievementCount(trophies)} (\r\n                    {trophyPercentage}%)\r\n                  </p>\r\n                  <div className='user_game__achievements_progress_bar_container'>\r\n                    <div\r\n                      className='user_game__achievements_progress_bar'\r\n                      style={{\r\n                        width: `${trophyPercentage}%`,\r\n                        background: activeProfile.color,\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className='user_game__achievements_actions'>\r\n                    <button\r\n                      className={trophyFilter == 'unlocked' && 'active'}\r\n                      onClick={() => setTrophyFilter('unlocked')}\r\n                    >\r\n                      Unlocked\r\n                    </button>\r\n                    {trophyPercentage < 100 && (\r\n                      <button\r\n                        className={`${trophyFilter == 'locked' && 'active'}`}\r\n                        onClick={() => setTrophyFilter('locked')}\r\n                      >\r\n                        In Progress\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <ul className='user_game__achievements_list'>\r\n                  {trophies\r\n                    .filter((trophy) =>\r\n                      trophyFilter == 'unlocked'\r\n                        ? trophy.earned\r\n                        : !trophy.earned\r\n                    )\r\n                    .sort((a, b) =>\r\n                      a.trophyName > b.trophyName\r\n                        ? 1\r\n                        : b.trophyName > a.trophyName\r\n                        ? -1\r\n                        : 0\r\n                    )\r\n                    .map((item) => (\r\n                      <li className='achievement_item' key={item.trophyName}>\r\n                        <div\r\n                          className='achievement_item_icon'\r\n                          style={{ border: `1px solid ${activeProfile.color}` }}\r\n                        >\r\n                          <img\r\n                            className={`achievement_item_icon__img ${\r\n                              !item.earned && 'greyscale'\r\n                            }`}\r\n                            src={item.trophyIconUrl}\r\n                          />\r\n                        </div>\r\n                        <div className='achievement_item_headers'>\r\n                          <h4>{item.trophyName}</h4>\r\n                          {item.trophyDetail && <p>{item.trophyDetail}</p>}\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <UserGameNotes\r\n            profile={activeProfile}\r\n            windowViewHandler={windowViewHandler}\r\n            viewStatus={viewStatus}\r\n            gameNotes={currentGameNotes}\r\n            updateNotes={updateProfileNotes}\r\n          />\r\n        </div>\r\n      </div>\r\n      {spotifyToken && (\r\n        <SpotifyPlayback\r\n          spotifyToken={spotifyToken}\r\n          playAudio={playAudio}\r\n          beginPlayback={beginPlayback}\r\n          pausePlayback={pausePlayback}\r\n          trackUri={currentTrack?.uri}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserGame;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport './UserCollection.css';\r\nimport { FaSistrix, FaHome, FaStar } from 'react-icons/fa';\r\nimport { CiSquareMore } from 'react-icons/ci';\r\nimport { read, utils, writeFile } from 'xlsx';\r\nimport axios from 'axios';\r\n\r\nimport UserGame from '../UserGame/UserGame';\r\nimport useContextMenu from '../../hooks/useContextMenu';\r\nimport bronzeTrophy from '../../assets/images/ps-trophy-bronze.png';\r\nimport goldTrophy from '../../assets/images/ps-trophy-gold.png';\r\nimport platinumTrophy from '../../assets/images/ps-trophy-platinum.png';\r\n\r\nconst UserCollection = ({\r\n  collection,\r\n  activeProfile,\r\n  backToHome,\r\n  playTrack,\r\n  currentTrack,\r\n  isPlaying,\r\n  pausePlayback,\r\n  resumePlayback,\r\n  spotifyToken,\r\n  updateGameStatus,\r\n  updateCollection,\r\n  userNotes,\r\n  trackUri,\r\n}) => {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [searchList, setSearchList] = useState([]);\r\n  const [imagesLoaded, setImagesLoaded] = useState(false);\r\n  const [viewingList, setViewingList] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [currentGame, setCurrentGame] = useState(null);\r\n  const [currentlyAdjusting, setCurrentlyAdjusting] = useState(null);\r\n  const [viewingCSVDropdown, setViewingCSVDropdown] = useState(false);\r\n  const imageRef = useRef(0);\r\n\r\n  // SPOTLIGHT STATES\r\n  const [spotlightList, setSpotlightList] = useState([]);\r\n  const [spotlightFilter, setSpotlightFilter] = useState('playtime');\r\n  // COVER LIST STATES\r\n  const [listFilter, setListFilter] = useState('alphabetical');\r\n  const [filteredList, setFilteredList] = useState([]);\r\n  // STATUS LIST STATES\r\n  const [statusFilter, setStatusFilter] = useState('backlog');\r\n  const baseURL = process.env.REACT_APP_BASE_URL;\r\n\r\n  const { anchorPoint, showTitleMenu } = useContextMenu();\r\n  const trophies = [platinumTrophy, goldTrophy, bronzeTrophy];\r\n\r\n  // If user is typing, filter titles that reflect inputted value\r\n  useEffect(() => {\r\n    if (searchValue == '') {\r\n      setSearchList([]);\r\n      return;\r\n    }\r\n    const delaySearch = setTimeout(() => {\r\n      const res = collection.filter((item) =>\r\n        item.name.toLowerCase().includes(searchValue.toLowerCase())\r\n      );\r\n      setSearchList(res);\r\n    }, 250);\r\n\r\n    return () => clearTimeout(delaySearch);\r\n  }, [searchValue]);\r\n\r\n  useEffect(() => {\r\n    const loadImage = (image) => {\r\n      return new Promise((resolve, reject) => {\r\n        const loadImg = new Image();\r\n        loadImg.src = image.cover_image;\r\n        // wait 2 seconds to simulate loading time\r\n        loadImg.onload = () =>\r\n          setTimeout(() => {\r\n            resolve(image.cover_image);\r\n          }, 2000);\r\n\r\n        loadImg.onerror = (err) => reject(err);\r\n      });\r\n    };\r\n\r\n    Promise.all(filteredList.map((image) => loadImage(image)))\r\n      .then(() => setImagesLoaded(true))\r\n      .catch((err) => console.log('Failed to load images', err));\r\n  }, []);\r\n\r\n  // Listen for screen size to determine if user is on mobile\r\n  useEffect(() => {\r\n    if (window.innerWidth <= 650) {\r\n      setIsMobile(true);\r\n    }\r\n    function handleResize() {\r\n      if (window.innerWidth <= 650) {\r\n        setIsMobile(true);\r\n      } else {\r\n        setIsMobile(false);\r\n      }\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // Listen for spotlight filter change\r\n  useEffect(() => {\r\n    if (spotlightFilter == 'playtime') {\r\n      setSpotlightList(\r\n        [...collection].sort((a, b) => b[spotlightFilter] - a[spotlightFilter])\r\n      );\r\n    } else if (spotlightFilter == 'user_rating') {\r\n      setSpotlightList(\r\n        collection\r\n          .filter((game) => game.user_rating)\r\n          .sort((a, b) => b['user_rating'] - a['user_rating'])\r\n      );\r\n    } else {\r\n      setSpotlightList(\r\n        collection\r\n          .filter((game) => game.achievements)\r\n          .sort((a, b) => b['achievements'] - a['achievements'])\r\n      );\r\n    }\r\n  }, [spotlightFilter, collection]);\r\n\r\n  // Listen for list filter change\r\n  useEffect(() => {\r\n    if (listFilter == 'achievements') {\r\n      setFilteredList(\r\n        [...collection]\r\n          .filter((game) => game.achievements)\r\n          .sort((a, b) => b['achievements'] - a['achievements'])\r\n      );\r\n    } else if (listFilter == 'playtime') {\r\n      setFilteredList(\r\n        [...collection]\r\n          .filter((game) => game.playtime > 0)\r\n          .sort((a, b) => b.playtime - a.playtime)\r\n      );\r\n    } else if (listFilter == 'status') {\r\n      setFilteredList(\r\n        [...collection].filter(\r\n          (game) => game.status == statusFilter.toUpperCase()\r\n        )\r\n      );\r\n    } else if (listFilter == 'rating') {\r\n      setFilteredList(\r\n        [...collection]\r\n          .filter((game) => game.user_rating)\r\n          .sort((a, b) => b.user_rating - a.user_rating)\r\n      );\r\n    } else if (listFilter == 'trophies') {\r\n      // const earnedTrophyCount = game.trophies.filter((game) => game.earned);\r\n      setFilteredList(\r\n        [...collection]\r\n          .filter((game) => game.trophies)\r\n          .sort((a, b) => a.trophies - b.trophies)\r\n      );\r\n    } else {\r\n      setFilteredList(\r\n        [...collection].sort((a, b) =>\r\n          a.name.toUpperCase() > b.name.toUpperCase()\r\n            ? 1\r\n            : a.name.toUpperCase() < b.name.toUpperCase()\r\n            ? -1\r\n            : 0\r\n        )\r\n      );\r\n    }\r\n  }, [listFilter, statusFilter, collection]);\r\n\r\n  // Select which game is being viewed\r\n  const viewGameHandler = (game) => {\r\n    setCurrentGame(game);\r\n  };\r\n\r\n  // Open up the menu when the user right clicks\r\n  const viewGameHeaders = (e, game) => {\r\n    e.preventDefault();\r\n    setCurrentlyAdjusting(game);\r\n  };\r\n\r\n  // Determine what stat to show based on current filter\r\n  const getFilterStat = (game) => {\r\n    switch (listFilter) {\r\n      case 'playtime':\r\n        if (Math.floor(game.playtime / 60) >= 1) {\r\n          return (\r\n            <span className='filter_stat'>\r\n              {Math.floor(game.playtime / 60)}{' '}\r\n              {Math.floor(game.playtime / 60) == 1 ? 'hour' : 'hours'}\r\n            </span>\r\n          );\r\n        } else {\r\n          return (\r\n            <span className='filter_stat'>\r\n              {game.playtime} {game.playtime == 1 ? 'minute' : 'minutes'}\r\n            </span>\r\n          );\r\n        }\r\n      case 'rating':\r\n        return (\r\n          <span className='filter_stat rating_stat'>{game.user_rating}%</span>\r\n        );\r\n      case 'trophies':\r\n        if (!game.trophies) break;\r\n        const earnedTrophyCount = game?.trophies?.filter((game) => game.earned);\r\n        return (\r\n          <span className='filter_stat'>\r\n            {Math.floor(\r\n              (earnedTrophyCount.length / game.trophies.length) * 100\r\n            )}\r\n            % earned\r\n          </span>\r\n        );\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const removeGameHandler = (e) => {\r\n    e.stopPropagation();\r\n    if (\r\n      Object.keys(currentGame).length > 0 &&\r\n      currentlyAdjusting.id === currentGame.id\r\n    )\r\n      setCurrentGame(null);\r\n    updateGameStatus('REMOVE', currentlyAdjusting);\r\n    setCurrentlyAdjusting(null);\r\n  };\r\n\r\n  const importUserCollection = async (collection) => {\r\n    try {\r\n      const request = await axios.put(\r\n        `${baseURL}/app/add_imported_collection`,\r\n        {\r\n          email: localStorage.getItem('user'),\r\n          profile: localStorage.getItem('profile'),\r\n          collection,\r\n        }\r\n      );\r\n      console.log(request);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // Allow user to import their own collection via CSV file\r\n  const handleImport = ($event) => {\r\n    const files = $event.target.files;\r\n    if (files.length) {\r\n      const file = files[0];\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        const wb = read(event.target.result);\r\n        const sheets = wb.SheetNames;\r\n\r\n        if (sheets.length) {\r\n          const rows = utils.sheet_to_json(wb.Sheets[sheets[0]]);\r\n          setFilteredList(rows);\r\n          importUserCollection(rows);\r\n        }\r\n      };\r\n      reader.readAsArrayBuffer(file);\r\n    }\r\n    setViewingCSVDropdown(false);\r\n  };\r\n\r\n  // Allow user to export their collection from their own file\r\n  const handleExport = () => {\r\n    const headings = [\r\n      [\r\n        'name',\r\n        'id',\r\n        'cover_image',\r\n        'playtime',\r\n        'origin',\r\n        'status',\r\n        'user_rating',\r\n        'banner_image',\r\n      ],\r\n    ];\r\n    const wb = utils.book_new();\r\n    const ws = utils.json_to_sheet([]);\r\n    utils.sheet_add_aoa(ws, headings);\r\n    utils.sheet_add_json(ws, filteredList, { origin: 'A2', skipHeader: true });\r\n    utils.book_append_sheet(wb, ws, 'Game');\r\n    writeFile(wb, 'Game Collection.xlsx');\r\n    setViewingCSVDropdown(false);\r\n  };\r\n\r\n  // HTML RENDER\r\n  if (imagesLoaded)\r\n    return (\r\n      <div className='user_collection__wrapper'>\r\n        <div\r\n          className='user_collection__container'\r\n          style={{\r\n            background: '#111',\r\n          }}\r\n        >\r\n          {/* LEFT SIDE */}\r\n          <div\r\n            className='user_collection__left'\r\n            style={{\r\n              height: viewingList && '250%',\r\n              marginBottom: viewingList && '25px',\r\n              display: isMobile && currentGame && 'none',\r\n            }}\r\n          >\r\n            <div className='user_collection__left_header'>\r\n              <h2>\r\n                <img\r\n                  style={{\r\n                    height: '50px',\r\n                    width: '50px',\r\n                    borderRadius: '4px',\r\n                  }}\r\n                  src={activeProfile.avatar}\r\n                />\r\n                {activeProfile.name.trim()}'s Collection\r\n                <CiSquareMore\r\n                  className='user_collection__upload_icon'\r\n                  onClick={() => setViewingCSVDropdown(!viewingCSVDropdown)}\r\n                />\r\n                {viewingCSVDropdown && (\r\n                  <div className='upload_dropdown_wrapper'>\r\n                    <ul className='upload_dropdown_list'>\r\n                      <li>\r\n                        {' '}\r\n                        <input\r\n                          style={{ display: 'none' }}\r\n                          type='file'\r\n                          name='file'\r\n                          className='custom-file-input'\r\n                          id='inputGroupFile'\r\n                          required\r\n                          onChange={handleImport}\r\n                          accept='.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel'\r\n                        />\r\n                        <label\r\n                          className='custom-file-label'\r\n                          htmlFor='inputGroupFile'\r\n                        >\r\n                          Import CSV\r\n                        </label>\r\n                      </li>\r\n                      <li onClick={handleExport}>Export CSV</li>\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n                <FaHome\r\n                  className='user_collection__home_icon'\r\n                  onClick={backToHome}\r\n                />\r\n              </h2>\r\n\r\n              <div className='user_collection__search'>\r\n                <FaSistrix className='user_collection__search_icon' />\r\n                <input\r\n                  className='user_collection__search_input'\r\n                  value={searchValue}\r\n                  onChange={(e) => setSearchValue(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <ul\r\n              className='user_collection__title_list'\r\n              style={{\r\n                height: viewingList && '100%',\r\n                display: viewingList && 'flex',\r\n              }}\r\n            >\r\n              <p\r\n                className='user_collection__total'\r\n                style={{\r\n                  color: 'white',\r\n                  paddingLeft: '7px',\r\n                  marginBottom: '5px',\r\n                  position: 'fixed',\r\n                  top: '132px',\r\n                  left: '1px',\r\n                  fontSize: '.95rem',\r\n                  width: '100%',\r\n                  height: '22px',\r\n                  background:\r\n                    'linear-gradient(to right, rgba(25,25,25,.5) 0%,rgba(17,17,17,1) 46%,rgba(1,1,1,1) 50%,rgba(10,10,10,1) 53%,rgba(78,78,78,1) 76%,rgba(56,56,56,1) 87%,rgba(27,27,27,1) 100%)',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                {searchList.length <= 0 && searchValue == ''\r\n                  ? 'All'\r\n                  : 'Results'}{' '}\r\n                (\r\n                <span style={{ fontSize: '.75rem' }}>\r\n                  {searchValue == '' ? collection.length : searchList.length}\r\n                </span>\r\n                )\r\n              </p>\r\n\r\n              {searchValue == '' ? (\r\n                collection\r\n                  .sort((a, b) =>\r\n                    a.name.toUpperCase() > b.name.toUpperCase()\r\n                      ? 1\r\n                      : a.name.toUpperCase() < b.name.toUpperCase()\r\n                      ? -1\r\n                      : 0\r\n                  )\r\n                  .map((game) => (\r\n                    <li\r\n                      className='title_list__item'\r\n                      key={game.id}\r\n                      onClick={() => viewGameHandler(game)}\r\n                      onContextMenu={(e) => viewGameHeaders(e, game)}\r\n                      style={{\r\n                        background: currentGame?.id == game.id && '#9147ff',\r\n                        color: currentGame?.id == game.id && 'white',\r\n                      }}\r\n                    >\r\n                      {' '}\r\n                      <img src={game.cover_image} />\r\n                      <p>{game.name}</p>\r\n                      {game.name == activeProfile.favorite_game && (\r\n                        <FaStar className='list_item_favorite' />\r\n                      )}\r\n                      {showTitleMenu && (\r\n                        <ul\r\n                          onMouseEnter={(e) => e.stopPropagation(true)}\r\n                          className='user_collection__game_context'\r\n                          style={{\r\n                            top: anchorPoint.y,\r\n                            left: anchorPoint.x,\r\n                            zIndex: 6,\r\n                          }}\r\n                        >\r\n                          <li className='banner_context__item'>\r\n                            Add to Favorites\r\n                          </li>\r\n                          <li\r\n                            className='banner_context__item'\r\n                            onClick={(e) => removeGameHandler(e, game)}\r\n                          >\r\n                            Delete Game\r\n                          </li>\r\n                        </ul>\r\n                      )}\r\n                    </li>\r\n                  ))\r\n              ) : searchList.length > 0 && searchValue != '' ? (\r\n                searchList.map((game) => (\r\n                  <li\r\n                    className='title_list__item'\r\n                    key={game.id}\r\n                    onClick={() => viewGameHandler(game)}\r\n                  >\r\n                    {' '}\r\n                    <img src={game.cover_image} />\r\n                    <p>{game.name}</p>\r\n                  </li>\r\n                ))\r\n              ) : (\r\n                <p\r\n                  style={{\r\n                    color: 'white',\r\n                    fontSize: '3.2rem',\r\n                    position: 'absolute',\r\n                    top: '44%',\r\n                    left: '16px',\r\n                  }}\r\n                >\r\n                  No Matches\r\n                </p>\r\n              )}\r\n              <div className='user_collection__title_list_shadow' />\r\n              <div className='user_collection__title_list_shadow top_shadow' />\r\n            </ul>\r\n            <div className='user_collection__actions'>\r\n              <button className='persona_font' onClick={backToHome}>\r\n                Back\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* RIGHT SIDE */}\r\n          <div className='user_collection__right'>\r\n            {currentGame !== null && (\r\n              <>\r\n                <UserGame\r\n                  game={currentGame}\r\n                  activeProfile={activeProfile}\r\n                  closeStats={() => setCurrentGame(null)}\r\n                  setCurrentGame={(game) => setCurrentGame(game)}\r\n                  updateCollection={updateCollection}\r\n                  userNotes={userNotes}\r\n                  spotifyToken={spotifyToken}\r\n                  currentTrack={currentTrack}\r\n                  playAudio={isPlaying}\r\n                  pausePlayback={pausePlayback}\r\n                  beginPlayback={resumePlayback}\r\n                />\r\n              </>\r\n            )}\r\n\r\n            {!currentGame && (\r\n              // SPOTLIGHT\r\n              <>\r\n                {!isMobile && (\r\n                  <div className='user_collection__spotlight_wrapper'>\r\n                    <div className='spotlight_filters'>\r\n                      {/* MOST PLAYED, HIGHEST RATED, MOST ACHIEVEMENTS */}\r\n                      <h2 className='spotlight_filter'>\r\n                        {spotlightFilter == 'playtime'\r\n                          ? 'Most Played'\r\n                          : spotlightFilter == 'user_rating'\r\n                          ? 'Highest Rated'\r\n                          : 'Most Achievements'}{' '}\r\n                      </h2>\r\n                      <ul className='spotlight_filter__options'>\r\n                        <li\r\n                          onClick={() => setSpotlightFilter('playtime')}\r\n                          style={{\r\n                            color: spotlightFilter == 'playtime' && 'white',\r\n                          }}\r\n                        >\r\n                          Most Played\r\n                        </li>\r\n                        <li\r\n                          onClick={() => setSpotlightFilter('user_rating')}\r\n                          style={{\r\n                            color: spotlightFilter == 'user_rating' && 'white',\r\n                          }}\r\n                        >\r\n                          Highest Rated\r\n                        </li>\r\n                        <li\r\n                          onClick={() => setSpotlightFilter('achievements')}\r\n                          style={{\r\n                            color: spotlightFilter == 'achievements' && 'white',\r\n                          }}\r\n                        >\r\n                          Most Achievements\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                    <div className='user_collection__spotlight'>\r\n                      {spotlightList.slice(0, 3).map((top, i) => (\r\n                        <figure\r\n                          key={top.id}\r\n                          className='spotlight_container'\r\n                          onClick={() => viewGameHandler(top)}\r\n                        >\r\n                          <img\r\n                            className='spotlight_image'\r\n                            src={top.banner_url || top.cover_image}\r\n                          />\r\n                          <div className='spotlight_container__row'>\r\n                            <img\r\n                              className='spotlight_trophy_image'\r\n                              src={trophies[i]}\r\n                            />\r\n                            <figcaption className='spotlight_details'>\r\n                              <p>\r\n                                {spotlightFilter == 'playtime'\r\n                                  ? `${Math.floor(top.playtime / 60)} hours`\r\n                                  : spotlightFilter == 'user_rating'\r\n                                  ? top.user_rating + '%'\r\n                                  : 'ACHIEVE'}{' '}\r\n                              </p>\r\n                            </figcaption>\r\n                          </div>\r\n                        </figure>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* COVER LIST */}\r\n                <div className='user_collection__list_container'>\r\n                  <div className='user_collection__list_filters'>\r\n                    <p style={{ marginBottom: '2px', fontSize: '1.5rem' }}>\r\n                      {listFilter == 'alphabetical'\r\n                        ? 'All Games'\r\n                        : listFilter == 'achievements'\r\n                        ? 'Achievements'\r\n                        : listFilter == 'playtime'\r\n                        ? 'Playtime'\r\n                        : listFilter == 'rating'\r\n                        ? 'Rating'\r\n                        : 'Status'}\r\n                    </p>\r\n                    <ul className='user_collection__list_filters__list'>\r\n                      <li\r\n                        style={{\r\n                          color: listFilter == 'alphabetical' && 'white',\r\n                        }}\r\n                        onClick={() => setListFilter('alphabetical')}\r\n                      >\r\n                        All\r\n                      </li>\r\n                      <span> | </span>\r\n                      <li\r\n                        style={{\r\n                          color: listFilter == 'achievements' && 'white',\r\n                        }}\r\n                        onClick={() => setListFilter('achievements')}\r\n                      >\r\n                        Achievements\r\n                      </li>\r\n                      <span> | </span>\r\n\r\n                      <li\r\n                        style={{ color: listFilter == 'playtime' && 'white' }}\r\n                        onClick={() => setListFilter('playtime')}\r\n                      >\r\n                        Playtime\r\n                      </li>\r\n                      <span> | </span>\r\n\r\n                      <li\r\n                        style={{ color: listFilter == 'rating' && 'white' }}\r\n                        onClick={() => setListFilter('rating')}\r\n                      >\r\n                        Rating\r\n                      </li>\r\n                      <span> | </span>\r\n\r\n                      <li\r\n                        style={{ color: listFilter == 'status' && 'white' }}\r\n                        onClick={() => {\r\n                          setListFilter('status');\r\n                          setStatusFilter('backlog');\r\n                        }}\r\n                      >\r\n                        Status\r\n                      </li>\r\n                    </ul>\r\n                    {listFilter == 'status' && (\r\n                      <div\r\n                        className='user_collection__list_filters__list'\r\n                        style={{ margin: '0' }}\r\n                      >\r\n                        <ul\r\n                          className='user_collection__list_filters__list_status'\r\n                          style={{ flexDirection: 'row' }}\r\n                        >\r\n                          <li\r\n                            style={{\r\n                              color: statusFilter == 'backlog' && 'white',\r\n                            }}\r\n                            onClick={() => setStatusFilter('backlog')}\r\n                          >\r\n                            Backlog\r\n                          </li>\r\n                          <span> | </span>\r\n                          <li\r\n                            style={{\r\n                              color: statusFilter == 'started' && 'white',\r\n                            }}\r\n                            onClick={() => setStatusFilter('started')}\r\n                          >\r\n                            Started\r\n                          </li>\r\n                          <span> | </span>\r\n                          <li\r\n                            style={{\r\n                              color: statusFilter == 'playing' && 'white',\r\n                            }}\r\n                            onClick={() => setStatusFilter('playing')}\r\n                          >\r\n                            Playing\r\n                          </li>\r\n                          <span> | </span>\r\n                          <li\r\n                            style={{\r\n                              color: statusFilter == 'finished' && 'white',\r\n                            }}\r\n                            onClick={() => setStatusFilter('finished')}\r\n                          >\r\n                            Finished\r\n                          </li>\r\n                          <span> | </span>\r\n                          <li\r\n                            style={{\r\n                              color: statusFilter == '100%' && 'white',\r\n                            }}\r\n                            onClick={() => setStatusFilter('100%')}\r\n                          >\r\n                            100%\r\n                          </li>\r\n                          <span> | </span>\r\n                          <li\r\n                            style={{\r\n                              color: statusFilter == 'abandonded' && 'white',\r\n                            }}\r\n                            onClick={() => setStatusFilter('abandonded')}\r\n                          >\r\n                            Abandonded\r\n                          </li>\r\n                          <span> | </span>\r\n                          <li\r\n                            style={{\r\n                              color: statusFilter == 'not owned' && 'white',\r\n                            }}\r\n                            onClick={() => setStatusFilter('not owned')}\r\n                          >\r\n                            Not Owned\r\n                          </li>\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <ul className='user_collection__list'>\r\n                    {!isMobile || (isMobile && searchValue == '')\r\n                      ? filteredList.map((game) => (\r\n                          <li\r\n                            className='list_item'\r\n                            key={game.id}\r\n                            onClick={() => viewGameHandler(game)}\r\n                          >\r\n                            <div className='user_collection__poster_container'>\r\n                              <div className='gradient' />\r\n                              <>\r\n                                {/* FRONT OF POSTER */}\r\n                                <div className='user_collection__poster_front'>\r\n                                  <img\r\n                                    className='user_collection__poster'\r\n                                    src={game.cover_image}\r\n                                    alt={game.name}\r\n                                  />\r\n                                </div>\r\n                              </>\r\n                            </div>\r\n                            {getFilterStat(game)}\r\n                          </li>\r\n                        ))\r\n                      : searchList.map((game) => (\r\n                          <li\r\n                            className='list_item'\r\n                            key={game.id}\r\n                            onClick={() => viewGameHandler(game)}\r\n                          >\r\n                            <div className='user_collection__poster_container'>\r\n                              <div className='gradient' />\r\n                              <>\r\n                                {/* FRONT OF POSTER */}\r\n                                <div className='user_collection__poster_front'>\r\n                                  <img\r\n                                    className='user_collection__poster'\r\n                                    src={\r\n                                      isMobile\r\n                                        ? game.cover_image.replace(\r\n                                            'cover_big',\r\n                                            '1080p'\r\n                                          )\r\n                                        : game.cover_image\r\n                                    }\r\n                                    alt={game.name}\r\n                                  />\r\n                                </div>\r\n                              </>\r\n                            </div>\r\n                          </li>\r\n                        ))}\r\n                  </ul>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default UserCollection;\r\n"],"names":["useState","x","y","anchorPoint","setAnchorPoint","showBannerMenu","setShowBannerMenu","showTitleMenu","setShowTitleMenu","handleContextMenu","useCallback","event","preventDefault","target","className","offsetX","pageY","movementX","handleClick","useEffect","document","addEventListener","removeEventListener","resetContext","note","closeNote","updateNote","deleteNote","noteValue","setNoteValue","date","onClick","value","onChange","e","today","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","formattedToday","windowViewHandler","viewStatus","gameNotes","updateNotes","currentTab","setCurrentTab","editingTab","setEditingTab","tabValue","setTabValue","addingTab","setAddingTab","addingNote","setAddingNote","currentNote","setCurrentNote","noteTab","tabs","filter","item","tabName","notesRef","useRef","tabRef","tabEndRef","current","focus","scrollIntoView","behavior","clearTimeout","timer","editTabHandler","innerText","console","log","tabFormSubmitHandler","push","notes","style","transform","display","oldNote","newNote","updatedList","contentEditable","suppressContentEditableWarning","onBlur","onKeyDown","currentTarget","key","ref","borderBottom","userSelect","padding","transition","lineHeight","map","stopPropagation","setTimeout","onSubmit","length","viewNoteHandler","width","marginLeft","id","placeholder","game","activeProfile","closeStats","setCurrentGame","updateCollection","userNotes","spotifyToken","currentTrack","playAudio","pausePlayback","beginPlayback","useContextMenu","achievements","trophies","setViewStatus","setAchievements","setTrophies","achievementFilter","setAchievementFilter","trophyFilter","setTrophyFilter","currentGameNotes","setCurrentGameNotes","Math","floor","playtime","setPlaytime","changingPlaytime","setChangingPlaytime","user_rating","rating","setRating","changingRating","setChangingRating","changingBanner","setChangingBanner","bannerLink","setBannerLink","status","backlogStatus","setBacklogStatus","changingBacklog","setChangingBacklog","baseURL","process","steamID","localStorage","getItem","userEmail","trophyPercentage","earned","achievementPercentage","achieved","updateProfileNotes","currentGame","notes_collection","g","axios","profile","gameId","email","request","name","handleEsc","keyCode","window","getAchievementData","arr1","arr2","dataList","result","a1","displayName","sort","a","b","textA","toUpperCase","textB","fetchAppData","params","steamGameStats","Object","keys","data","steamId","userAchievementData","availableGameStats","currentProfile","addAchievements","response","collection","getAchievementCount","list","numberAchieved","getSpotifyAlbum","token","tracks","updateRatingHandler","setItem","updatePlaytime","updateBacklog","updateBacklogHandler","updateBanner","trim","url","maxWidth","textAlign","marginBottom","top","left","src","banner_image","cover_image","replace","color","totalMinutes","type","minutes","hours","toString","padStart","toHoursAndMinutes","min","max","backgroundColor","alignItems","paddingBottom","background","achievement","border","icon","icongray","description","trophy","trophyName","trophyIconUrl","trophyDetail","SpotifyPlayback","trackUri","uri","backToHome","playTrack","isPlaying","resumePlayback","updateGameStatus","searchValue","setSearchValue","searchList","setSearchList","imagesLoaded","setImagesLoaded","viewingList","isMobile","setIsMobile","currentlyAdjusting","setCurrentlyAdjusting","viewingCSVDropdown","setViewingCSVDropdown","spotlightList","setSpotlightList","spotlightFilter","setSpotlightFilter","listFilter","setListFilter","filteredList","setFilteredList","statusFilter","setStatusFilter","platinumTrophy","goldTrophy","bronzeTrophy","delaySearch","res","toLowerCase","includes","Promise","all","image","resolve","reject","loadImg","Image","onload","onerror","err","loadImage","then","catch","handleResize","innerWidth","viewGameHandler","getFilterStat","earnedTrophyCount","importUserCollection","height","borderRadius","avatar","required","$event","files","file","reader","FileReader","wb","read","sheets","SheetNames","rows","utils","Sheets","readAsArrayBuffer","accept","htmlFor","ws","origin","skipHeader","writeFile","paddingLeft","position","fontSize","onContextMenu","viewGameHeaders","favorite_game","onMouseEnter","zIndex","removeGameHandler","slice","i","banner_url","margin","flexDirection","alt"],"sourceRoot":""}