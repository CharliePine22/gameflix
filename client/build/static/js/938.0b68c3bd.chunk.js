"use strict";(self.webpackChunkgameflix=self.webpackChunkgameflix||[]).push([[938],{7654:function(e,a,s){s.r(a),s.d(a,{default:function(){return P}});var i=s(4165),t=s(5861),r=s(9439),c=s(2791),l=s(4569),n=s.n(l),o=(n().create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",maxResults:5,key:"AIzaSyCFUurYVGCQLT1LTk5JxppB6Zqzypo_TVw"},headers:{}}),n().create({baseURL:"https://www.googleapis.com/youtube/v3/playlistItems",params:{part:"snippet",maxResults:10,key:"AIzaSyCFUurYVGCQLT1LTk5JxppB6Zqzypo_TVw"},headers:{}}),s(7932)),m=s(677),d=s(8516),g=s(5422),u=s(8256),_=s.p+"static/media/nintendo-ds.3983d04b079b5085eedf.png",p=s.p+"static/media/nintendo-3ds.95942566b92b04efe2cd.png",h=s(9835),x=s(6251),b=s(9048),f=s(7107),v=s.p+"static/media/steam-logo.ef9e4cbcd85d2ab53af2.png",N=s(585),j=s(2732),y=s(4412),S=s(4405),w=s(466),k=s(184),C=s(8820),P=function(e){var a,s,l,P,D,Z,F,A,T=e.game,G=e.closeDetails,X=e.addGame,E=e.removeGame,L=e.activeProfile,M=e.twitchToken,O=(0,c.useState)({}),R=(0,r.Z)(O,2),B=R[0],U=R[1],V=(0,c.useState)(!1),z=(0,r.Z)(V,2),J=z[0],W=z[1],I=(0,c.useState)(!1),Y=(0,r.Z)(I,2),q=Y[0],Q=Y[1],H=(0,c.useState)(""),K=(0,r.Z)(H,2),$=K[0],ee=K[1],ae=(0,c.useState)(""),se=(0,r.Z)(ae,2),ie=se[0],te=se[1],re=L.collection,ce=re&&re.some((function(e){return e.id===T.id})),le=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n().post("".concat("https://cybrary2022.onrender.com","/app/search_game_details"),{token:M,gameId:T.id});case 3:return a=e.sent,e.next=6,a.data;case 6:s=e.sent,console.log(s),T.name!==s[0].name&&te("Sorry ".concat(L.name," but our princess is in another castle! Please try again!")),!s[0].status<400?U(s[0]):te("Sorry ".concat(L.name," but our princess is in another castle! Please try again!")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),te("Sorry ".concat(L.name," but our princess is in another castle! Please try again!")),console.log(e.t0);case 16:W(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){T&&(window.scrollTo(0,0),le(T),ee(""))}),[T]);var ne=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(T);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(T);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(e){switch(e){case"PC (Microsoft Windows)":case"PC":return(0,k.jsx)("img",{src:v,alt:"PC",className:"game_platform_logo"});case"PlayStation":case"PS1":case"PlayStation 2":case"PS2":case"PlayStation 3":case"PS3":case"PlayStation 4":case"PS4":case"PlayStation 5":case"PS5":return(0,k.jsx)("img",{src:o,alt:e,className:"game_platform_logo"});case"PlayStation Portable":case"PSP":return(0,k.jsx)("img",{src:m,alt:e,className:"game_platform_logo"});case"Vita":return(0,k.jsx)("img",{src:d,alt:e,className:"game_platform_logo"});case"Nintendo 64":case"N64":case"Nintendo 64DD":case"Nintendo Switch":case"Switch":return(0,k.jsx)("img",{src:u,alt:e,className:"game_platform_logo"});case"Nintendo DS":case"NDS":return(0,k.jsx)("img",{src:_,alt:e,className:"game_platform_logo"});case"GBA":return(0,k.jsx)("img",{src:h,alt:e,className:"game_platform_logo"});case"Nintendo 3DS":case"New Nintendo 3DS":case"3DS":return(0,k.jsx)("img",{src:p,alt:e,className:"game_platform_logo"});case"Nintendo GameCube":case"NGC":return(0,k.jsx)("img",{src:w,alt:e,className:"game_platform_logo"});case"Wii":return(0,k.jsx)("img",{src:x,alt:e,className:"game_platform_logo"});case"Wii U":case"WiiU":return(0,k.jsx)("img",{src:b,alt:e,className:"game_platform_logo"});case"SNES":return(0,k.jsx)("img",{src:S,alt:e,className:"game_platform_logo"});case"NES":return(0,k.jsx)("img",{src:g,alt:e,className:"game_platform_logo"});case"Xbox":case"XBOX":case"XONE":case"Xbox One":case"Xbox 360":case"X360":case"Series X":return(0,k.jsx)("img",{src:f,alt:e,className:"game_platform_logo"});case"iOS":case"Mac":return(0,k.jsx)("img",{src:N,alt:e,className:"game_platform_logo"});case"Android":case"Linux":return(0,k.jsx)("img",{src:j,alt:e,className:"game_platform_logo"});case"SEGA":case"Dreamcast":return(0,k.jsx)("img",{src:y,alt:e,className:"game_platform_logo"})}};if(""!==ie)return(0,k.jsxs)("p",{className:"game_details__error",children:[ie," ",(0,k.jsx)("span",{style:{fontSize:"1.8rem",marginTop:"20px",padding:"5px 32px"},className:"snes_button",onClick:G,children:"Back"})]});return console.log(T),0==Object.keys(B).length||J?(0,k.jsx)("div",{className:"game_details__wrapper","data-title":".dot-falling",children:(0,k.jsx)("div",{className:"stage",children:(0,k.jsx)("div",{className:"dot-falling"})})}):(0,k.jsxs)("div",{className:"game_details__wrapper",children:[(0,k.jsx)("img",{className:"game_details__background",src:"//images.igdb.com/igdb/image/upload/t_1080p_2x/".concat(null===(a=B.cover)||void 0===a?void 0:a.image_id,".jpg")}),(0,k.jsxs)("div",{className:"game_details__container",children:[(0,k.jsx)("h2",{children:B.name}),(0,k.jsx)("div",{className:"game_details__details",children:(0,k.jsxs)("div",{className:"game_details__media",children:[(0,k.jsxs)("div",{className:"media_placeholder",children:[(0,k.jsx)(C.n5C,{className:"game_details__swap_icon"}),(0,k.jsx)("img",{className:"details_img",src:""==$?"//images.igdb.com/igdb/image/upload/t_cover_big_2x/".concat(null===B||void 0===B||null===(s=B.cover)||void 0===s?void 0:s.image_id,".jpg"):$}),(0,k.jsxs)("div",{className:"game_details__screenshots",children:[(0,k.jsx)("img",{src:"//images.igdb.com/igdb/image/upload/t_cover_big_2x/".concat(null===(l=B.cover)||void 0===l?void 0:l.image_id,".jpg"),className:"screenshot_thumbnail",onClick:function(){var e;return ee("//images.igdb.com/igdb/image/upload/t_cover_big_2x/".concat(null===(e=B.cover)||void 0===e?void 0:e.image_id,".jpg"))},style:{border:B.cover.image_id==$?"2px solid lightblue":"1px solid transparent",width:"95%"}}),null===(P=B.screenshots)||void 0===P?void 0:P.map((function(e){return(0,k.jsx)("img",{style:{border:e.image==$?"1px solid lightblue":"1px solid transparent"},src:"//images.igdb.com/igdb/image/upload/t_screenshot_big_2x/".concat(e.image_id,".jpg"),onClick:function(){return ee("//images.igdb.com/igdb/image/upload/t_screenshot_big_2x/".concat(e.image_id,".jpg"))},className:"screenshot_thumbnail"},e.id)})),null===(D=B.artworks)||void 0===D?void 0:D.map((function(e){return(0,k.jsx)("img",{style:{border:e.image==$?"1px solid lightblue":"1px solid transparent",objectFit:"fill"},src:"//images.igdb.com/igdb/image/upload/t_screenshot_big_2x/".concat(e.image_id,".jpg"),onClick:function(){return ee("//images.igdb.com/igdb/image/upload/t_screenshot_big_2x/".concat(e.image_id,".jpg"))},className:"screenshot_thumbnail"},e.id)}))]})]}),(0,k.jsx)("div",{className:"game_details__info_container_top",children:(0,k.jsxs)("div",{className:"game_details__data",children:[(0,k.jsxs)("div",{className:"game_details__publishers",children:[(0,k.jsx)("h4",{className:"game_details__title",children:"Publishers"}),(0,k.jsx)("ul",{className:"publishers_list",children:null===(Z=B.involved_companies)||void 0===Z?void 0:Z.slice(0,3).map((function(e){return(0,k.jsx)("li",{className:"publisher",children:e.company.name},e.id)}))})]}),B.platforms.length>0&&(0,k.jsxs)("div",{className:"game_details__platforms",children:[(0,k.jsx)("h4",{className:"game_details__title",children:"Platforms"}),(0,k.jsx)("ul",{className:"platforms_list",children:null===(F=B.platforms)||void 0===F?void 0:F.map((function(e,a){if((1==e.category||5==e.category)&&"Super Famicom"!==e.name&&"Family Computer"!==e.name&&"Nintendo DSi"!==e.name&&"Family Computer Disk System"!==e.name)return(0,k.jsxs)("li",{className:"platform",alt:"platform",children:[me(e.abbreviation||e.name),(0,k.jsx)("p",{children:e.abbreviation||e.name})]},e.id)}))})]}),B.rating&&(0,k.jsxs)("div",{className:"game_details__rating",children:[(0,k.jsx)("h4",{className:"game_details__title",children:"Rating"}),(0,k.jsx)("p",{children:Math.round(B.rating)+"%"})]}),(0,k.jsxs)("div",{className:"game_details__released",children:[(0,k.jsx)("h4",{className:"game_details__title",children:"Release Date"}),(0,k.jsx)("p",{children:function(e){var a,s=new Date(null===e||void 0===e?void 0:e.replace(/-/g,"/")),i=s.getDate();switch(i){case 1:case 21:case 31:a=i+"st";break;case 2:case 22:a=i+"nd";break;case 3:case 23:a=i+"rd";break;default:a=i+"th"}return["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]+" "+a+", "+s.getFullYear()}(null===B||void 0===B||null===(A=B.release_dates[0])||void 0===A?void 0:A.human)})]})]})})]})}),(0,k.jsxs)("div",{className:"game_details__description_container",children:[(0,k.jsx)("h4",{className:"game_details__title",children:"Description"}),(0,k.jsxs)("p",{className:"game_details__description",style:{maxWidth:""==B.summary&&"100%"},children:[function(e){if(void 0==e.summary)return"No available description";if(e.storyline){var a=e.storyline.replace(/<[^>]*>?/gm,"").replace(/&#39;/g,"'").trim();return a.length>300&&0==q?a.split("").slice(0,300).join("")+"...":a}var s=e.summary.replace(/<[^>]*>?/gm,"").replace(/&#39;/g,"'").trim();return s.length>300&&0==q?s.split("").slice(0,300).join("")+"...":s}(B)," ",(0,k.jsx)("button",{className:"game_details__info_toggler",onClick:function(){Q(!q)},children:""!==B.summary?q?"Hide Full Description":"Show Full Description":""})]})]}),(0,k.jsxs)("div",{className:"game_details__actions",children:[re&&ce?(0,k.jsx)("span",{className:"snes_button",onClick:oe,children:"REMOVE"}):(0,k.jsx)("span",{className:"snes_button",onClick:ne,children:"ADD"}),(0,k.jsx)("span",{className:"snes_button",onClick:G,children:"BACK"})]})]})]})}}}]);
//# sourceMappingURL=938.0b68c3bd.chunk.js.map